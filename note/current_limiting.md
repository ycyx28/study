# 限流
在高并发系统开发中，常常会遇到资源不足，这里资源足有很多方面，比如数据库资源、服务的QPS/TPS达到极限、第三方请求资源不够（如银行转账频率限制）等，为了
系统稳健提供服务，在实际开发和设计中，需要考虑到在高并发下的服务限流、降级，针对不用的业务都有自己的限流策略。

常见的限流算法有：令牌桶、漏桶。计数器也可以进行粗暴限流实现。

## 令牌桶
- 加入配置的请求平均速率为r，则每隔1/r秒将一个令牌加入到桶中；
- 假设桶中最多可以存放b个令牌。
- 当流量已速度v进入，从令牌桶中已速度v取令牌，拿到令牌流量就通过，拿不到令牌就阻塞，执行熔断策略（针对不同业余熔断策略不同）。


